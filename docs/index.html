<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Elecciones 2023 - RENABAP</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #f9f9f9;
      color: #333;
    }

    h1, h2 {
      margin-bottom: 10px;
    }

    h2 {
      margin-top: 40px;
      border-bottom: 2px solid #ccc;
      padding-bottom: 5px;
    }

    iframe {
      width: 100%;
      height: 650px;
      border: none;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      border-radius: 8px;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
    }

    .theme-toggle {
      float: right;
      margin-top: -40px;
    }

    button {
      background-color: #ddd;
      border: none;
      padding: 5px 10px;
      border-radius: 5px;
      cursor: pointer;
    }

    button:hover {
      background-color: #bbb;
    }

    body.dark-mode {
      background-color: #222;
      color: #eee;
    }

    body.dark-mode iframe {
      box-shadow: 0 4px 12px rgba(255,255,255,0.1);
    }

    /* Accordion styles */
    .accordion {
      margin-top: 20px;
      border: 1px solid #ccc;
      border-radius: 5px;
      overflow: hidden;
    }

    .accordion-header {
      background-color: #eaeaea;
      padding: 10px 15px;
      cursor: pointer;
      font-weight: bold;
    }

    .accordion-content {  font-family: 'Georgia', serif;
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease, padding 0.3s ease;
      background-color: #f4f4f4;
      padding: 0 15px;
    }

    .accordion-content.open {
      padding: 15px;
      max-height: 4000px;
    }

    body.dark-mode .accordion-header {
      background-color: #444;
    }

    body.dark-mode .accordion-content {
      background-color: #333;
    }
  </style>
</head>
<body class="dark-mode">
  <div class="container">
    <h1>ELECCIONES PRESIDENCIALES CABA RENABAP 2023</h1>
    <div class="theme-toggle">
      <button onclick="toggleTheme()">üåô/‚òÄÔ∏è Tema</button>
    </div>

    <h2>Mapa de Circuitos</h2>
    <iframe src="mapa_circuitos_caba_renabap.html"></iframe>

    <div class="accordion">
      <div class="accordion-header" onclick="toggleAccordion('accordion-content')">üìò Metodolog√≠a</div>
      <div class="accordion-content" id="accordion-content">
        <p>Para determinar que circuitos electorales contienen barrios RENABAP se utilizaron los poligonos geograficos que delimitan los circuitos electorales y los poligonos que delimitan los barrios Renabap ambos obtenidos de fuentes oficiales y se implemento un inner join espacial. </p>
        <p> El autor se tomo las siguientes atribuciones para confeccionar el analisis:</p>
        <p>1) El barrio 'Rodrigo Bueno' fue asignado al circuito 57 (La Boca) a pesar de estar ubicado geograficamente en Puerto Madero. Se tomo esta decision porque los habitantes no votan en la UCA desde el 2011, en su lugar son derivados a mesas en La Boca.</p>
        <p>2) Para considerar dentro del analisis un circuito electoral se definio un UMBRAL MINIMO DE 100 FAMILIAS totales en barrios RENABAP dentro del circuito.
        Esto es para solo considerar resultados donde la poblacion de los asentamientos puede influir significativamente en el total.  </p>
      <p> (!) Una mejor alternativa seria asignar un numero de adultos promedio por familia y calcular la poblacion de los asentamientos vs votantes.
    Con este dato se podria definir un umbral en proporcion de votantes estimados para filtrar circuitos. Tal vez se implemente en una v2.0 del analisis. </p>
        <p><strong>Herramientas:</strong> GeoPandas, Plotly, openStreetMap, shapely</p>
      </div>
    </div>

    <div class="accordion">
      <div class="accordion-header" onclick="toggleAccordion('accordion-fuentes')">üîó Fuentes </div>
      <div class="accordion-content" id="accordion-fuentes">
        <p> Circuitos electorales: <a href="https://data.buenosaires.gob.ar/dataset/circuitos-electorales">https://data.buenosaires.gob.ar/dataset/circuitos-electorales</a></p>
        <p> Barrios RENABAP: <a href="https://mapa.poblaciones.org/map/191801/#/@-34.653714,-58.453102,11z&r11898/l=280001!v1!w0,0,0,0,0;265801!v1!w0,0,0,0">  https://mapa.poblaciones.org/map/191801/#/@-34.653714,-58.453102,11z&r11898/l=280001!v1!w0,0,0,0,0;265801!v1!w0,0,0,0</a></p>
        <p> Resultados Electorales: <a href="https://datos.gob.ar/dataset/dine-resultados-provisionales-elecciones-2023/archivo/dine_9.3">https://datos.gob.ar/dataset/dine-resultados-provisionales-elecciones-2023/archivo/dine_9.3</a> </p>
      </div>
    </div>

    <h2>Distribuci√≥n Total</h2>
    <iframe src="piechart_circuitos_caba_renabap.html"></iframe>

    <h2>Vista por Villa y Establecimiento</h2>
    <p>Destacamos la üîó<a href="https://www.lanacion.com.ar/politica/balotaje-chequea-el-resultado-en-la-escuela-donde-votaste-nid23112023/">visualizaci√≥n</a> elaborada por el equipo de La Naci√≥n por su detalle granular de resultados por establecimiento electoral.
    </p>

    <div class="accordion">
     <div class="accordion-header" onclick="toggleAccordion('accordion-31')">Villa 31 - Padre Mugica </div>
       <div class="accordion-content open" id="accordion-31">
       <img src="img/villa_31.png" alt="Villa 31" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
       </div>
    </div>

    <div class="accordion">
     <div class="accordion-header" onclick="toggleAccordion('accordion-11114')">Villa 1-11-14</div>
       <div class="accordion-content" id="accordion-11114">
         <img src="img/villa-1-11-14.png" alt="Villa 1-11-14" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
       </div>
    </div>

    <div class="accordion">
     <div class="accordion-header" onclick="toggleAccordion('accordion-2124')">Villa 21-24</div>
       <div class="accordion-content" id="accordion-2124">
         <img src="img/villa_21_24.png" alt="Villa 21-24" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
       </div>
    </div>

    <div class="accordion">
     <div class="accordion-header" onclick="toggleAccordion('accordion-20')">Villa 20</div>
       <div class="accordion-content" id="accordion-20">
         <img src="img/villa_20.png" alt="Villa 20" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
       </div>
    </div>

    <div class="accordion">
     <div class="accordion-header" onclick="toggleAccordion('accordion-15')">Villa 15 - Ciudad Oculta</div>
       <div class="accordion-content" id="accordion-15">
         <img src="img/villa_15_ciudad_oculta.png" alt="Villa 15" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
       </div>
    </div>

    <div class="accordion">
     <div class="accordion-header" onclick="toggleAccordion('accordion-3')">Villa 3 - Fatima - Ciudad Oculta</div>
       <div class="accordion-content" id="accordion-3">
         <img src="img/fatima_villa_3.png" alt="Villa 15" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
       </div>
    </div>

  </div>

  <script>
    function toggleTheme() {
      document.body.classList.toggle('dark-mode');
    }

    function toggleAccordion(element_id) {
      const content = document.getElementById(element_id);
      content.classList.toggle('open');
    }

  </script>
</body>
</html>
